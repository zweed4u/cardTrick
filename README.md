This card trick makes use of base 3 math. Take 27 cards from a standard deck.
Ask the player to pick a card and then shuffle the deck.
Drawing off the deck, form three separate piles asking the user to keep track of which pile their card lay in.

Then, whimsically query the user for their favorite number from 1-27.
This is the number you will be operating on.
Take the number and subtract 1 from it. 
Then decompose this number into base 3. 
In layman's terms, how many 1s, 3s, and 9s can go into it to sum up to it.

The number of times 1, 3, and/or 9 go into this number will either be zero, once or twice at most.
Each of these numbers corresponds to placement in the collating of the decks. Zero means to place the pile with the card on the top of the new deck, one means in the middle and two means on the bottom.

Repeat this another two times using the second pass for the number of 3s that go into the number and the number of 9s that go into it respectiely. Once the third collation is done, count off the number of cards on top that they gave you for their favorite number. The number they picked will also be the card they chose.
